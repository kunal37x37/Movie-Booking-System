@model MovieBookingSystem.Models.Showtime
@{
    ViewData["Title"] = "Add Showtime";
    var movies = ViewBag.Movies as List<MovieBookingSystem.Models.Movie>;
}

<div class="container">
    <h2><i class="fas fa-plus"></i> Add New Showtime</h2>

    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <form asp-action="AddShowtime" method="post">
                        @Html.AntiForgeryToken()
                        
                        <div class="form-group mb-3">
                            <label asp-for="MovieId" class="form-label">
                                <i class="fas fa-film"></i> Movie
                            </label>
                            <select asp-for="MovieId" class="form-control" required>
                                <option value="">Select Movie</option>
                                @if (movies != null)
                                {
                                    foreach (var movie in movies)
                                    {
                                        <option value="@movie.Id">@movie.Title</option>
                                    }
                                }
                            </select>
                            <span asp-validation-for="MovieId" class="text-danger"></span>
                        </div>
                        
                        <div class="form-group mb-3">
                            <label asp-for="ShowDateTime" class="form-label">
                                <i class="fas fa-calendar-alt"></i> Show Date & Time
                            </label>
                            <input asp-for="ShowDateTime" type="datetime-local" class="form-control" required />
                            <span asp-validation-for="ShowDateTime" class="text-danger"></span>
                        </div>
                        
                        <div class="form-group mb-3">
                            <label asp-for="Theater" class="form-label">
                                <i class="fas fa-theater-masks"></i> Theater
                            </label>
                            <input asp-for="Theater" class="form-control" required 
                                   placeholder="Enter theater name" />
                            <span asp-validation-for="Theater" class="text-danger"></span>
                        </div>
                        
                        <div class="form-group mb-3">
                            <label asp-for="TotalSeats" class="form-label">
                                <i class="fas fa-chair"></i> Total Seats
                            </label>
                            <input asp-for="TotalSeats" type="number" class="form-control" 
                                   min="1" max="500" required placeholder="Enter total seats" />
                            <span asp-validation-for="TotalSeats" class="text-danger"></span>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-plus"></i> Add Showtime
                        </button>
                        <a href="@Url.Action("Showtimes")" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i> Cancel
                        </a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}